---

mosquitto_packages:
  - mosquitto
  - mosquitto-clients

mosquitto_python_dependencies:
  - python
  - python-pip
  - python-setuptools

mosquitto_python_packages:
  - paho-mqtt

mosquitto_user: mosquitto

mosquitto_group: mosquitto

mosquitto_home: /var/lib/mosquitto

mosquitto_add_groups: []

mosquitto_config_file: /etc/mosquitto/mosquitto.conf

mosquitto_config: {
  # psk_file: /etc/mosquitto/mosquitto.psk,
  password_file: /etc/mosquitto//mosquitto.passwd
}

mosquitto_listeners: {}

mosquitto_bridges: {}

mosquitto_auth_anonymous:
  - "topic read topic_name"

mosquitto_auth_users:
  - name: abel_mosquitto
    state: present
    password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          30663363333866653839663137643434616662316538633663383537633836376637623762663134
          3963373566393163313630396166393430663839343434300a663766373530376263363666396238
          34663661616535626338613430363634393533643639373265383262616637373665303161653132
          3762323661373164630a326663303837396166386539663931353733613563396234626261346464
          3861
    # psk: ABCDEF1234567890 # Optional. Needs mosquitto_config.psk_file set.

mosquitto_auth_patterns:
  - "pattern write $SYS/broker/connection/%c/state"
